Submodule third_party/bergamot-translator contains modified content
Submodule 3rd_party/marian-dev contains modified content
diff --git a/third_party/bergamot-translator/3rd_party/marian-dev/cmake/TargetArch.cmake b/third_party/bergamot-translator/3rd_party/marian-dev/cmake/TargetArch.cmake
index f653e3e2..335043c6 100644
--- a/third_party/bergamot-translator/3rd_party/marian-dev/cmake/TargetArch.cmake
+++ b/third_party/bergamot-translator/3rd_party/marian-dev/cmake/TargetArch.cmake
@@ -79,6 +79,8 @@ function(target_architecture output_var)
                 set(osx_arch_i386 TRUE)
             elseif("${osx_arch}" STREQUAL "x86_64")
                 set(osx_arch_x86_64 TRUE)
+             elseif("${osx_arch}" STREQUAL "arm64" OR "${osx_arch}" STREQUAL "arm64e")
+                 set(osx_arch_arm64 TRUE)
             elseif("${osx_arch}" STREQUAL "ppc64" AND ppc_support)
                 set(osx_arch_ppc64 TRUE)
             else()
@@ -99,6 +101,10 @@ function(target_architecture output_var)
             list(APPEND ARCH x86_64)
         endif()
 
+        if(osx_arch_arm64)
+           list(APPEND ARCH arm64)
+        endif()
+
         if(osx_arch_ppc64)
             list(APPEND ARCH ppc64)
         endif()
Submodule src/3rd_party/sentencepiece contains modified content
diff --git a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/sentencepiece/src/trainer_interface.cc b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/sentencepiece/src/trainer_interface.cc
index 31659cb..da13b8e 100644
--- a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/sentencepiece/src/trainer_interface.cc
+++ b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/sentencepiece/src/trainer_interface.cc
@@ -208,8 +208,11 @@ bool TrainerInterface::IsValidSentencePiece(
     return false;
   }
 
-  constexpr unicode_script::ScriptType kAnyType =
-      static_cast<unicode_script::ScriptType>(-1);
+  // Changed from constexpr to const to avoid C++11 strict constexpr requirements
+  // In C++11, static_cast in constexpr may not be recognized as constant expression
+  // Even with C++14, some compilers may still have issues with enum static_cast in constexpr
+  const unicode_script::ScriptType kAnyType =
+       static_cast<unicode_script::ScriptType>(-1);
 
   auto is_number = [](char32 c) { return (c >= 0x30 && c <= 0x39); };
 
diff --git a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zlib/zutil.h b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zlib/zutil.h
index b079ea6a..953dc65e 100644
--- a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zlib/zutil.h
+++ b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zlib/zutil.h
@@ -130,7 +130,15 @@ extern z_const char * const z_errmsg[10]; /* indexed by 2-zlib_error */
 #  endif
 #endif
 
-#if defined(MACOS) || defined(TARGET_OS_MAC)
+/* NOTE:
+ * The legacy "MACOS"/"TARGET_OS_MAC" code path is intended for classic Mac OS
+ * toolchains. On modern Apple platforms (macOS/iOS), TARGET_OS_* macros can be
+ * visible via system headers, and the legacy path incorrectly defines fdopen()
+ * to NULL, breaking compilation against modern stdio headers.
+ *
+ * Modern Apple targets are handled by the __APPLE__ block below (OS_CODE 19).
+ */
+#if defined(MACOS) && !defined(__APPLE__)
 #  define OS_CODE  7
 #  ifndef Z_SOLO
 #    if defined(__MWERKS__) && __dest_os != __be_os && __dest_os != __win32_os
diff --git a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zstr/strict_fstream.hpp b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zstr/strict_fstream.hpp
index 7b117393..948e91ea 100644
--- a/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zstr/strict_fstream.hpp
+++ b/third_party/bergamot-translator/3rd_party/marian-dev/src/3rd_party/zstr/strict_fstream.hpp
@@ -27,7 +27,7 @@ static std::string strerror()
     {
         buff = "Unknown error";
     }
-#elif (_POSIX_C_SOURCE >= 200112L || _XOPEN_SOURCE >= 600 || __APPLE__) && ! _GNU_SOURCE
+#elif (_POSIX_C_SOURCE >= 200112L || _XOPEN_SOURCE >= 600 || __APPLE__)
 // XSI-compliant strerror_r()
     if (strerror_r(errno, &buff[0], buff.size()) != 0)
     {
diff --git a/third_party/bergamot-translator/3rd_party/marian-dev/src/microsoft/quicksand.h b/third_party/bergamot-translator/3rd_party/marian-dev/src/microsoft/quicksand.h
index 87de1948..32e23a3e 100755
--- a/third_party/bergamot-translator/3rd_party/marian-dev/src/microsoft/quicksand.h
+++ b/third_party/bergamot-translator/3rd_party/marian-dev/src/microsoft/quicksand.h
@@ -1,4 +1,5 @@
 #pragma once
+#include <cstdint>
 #include <memory>
 #include <string>
 #include <tuple>
Submodule 3rd_party/ssplit-cpp contains modified content
diff --git a/third_party/bergamot-translator/3rd_party/ssplit-cpp/cmake/FindPCRE2.cmake b/third_party/bergamot-translator/3rd_party/ssplit-cpp/cmake/FindPCRE2.cmake
index 8ea55cb..96e61a0 100644
--- a/third_party/bergamot-translator/3rd_party/ssplit-cpp/cmake/FindPCRE2.cmake
+++ b/third_party/bergamot-translator/3rd_party/ssplit-cpp/cmake/FindPCRE2.cmake
@@ -28,9 +28,10 @@ if(SSPLIT_USE_INTERNAL_PCRE2)
     message("Downloading pcre2 source code from ${PCRE2_URL}")
   endif()
 
-  # Set configure options for internal pcre2 depeding on compiler
-  if(CMAKE_CXX_COMPILER MATCHES "/em\\+\\+(-[a-zA-Z0-9.])?$")
-    # jit compilation isn't supported by wasm
+  # Set configure options for internal pcre2 depending on platform/toolchain.
+  # - WASM doesn't support JIT
+  # - iOS JIT is not available and may reference unsupported symbols (e.g. ___clear_cache)
+  if(CMAKE_CXX_COMPILER MATCHES "/em\\+\\+(-[a-zA-Z0-9.])?$" OR IOS)
     set(PCRE2_JIT_OPTION  "-DPCRE2_SUPPORT_JIT=OFF")
   else()
     set(PCRE2_JIT_OPTION  "-DPCRE2_SUPPORT_JIT=ON")
@@ -47,6 +48,12 @@ if(SSPLIT_USE_INTERNAL_PCRE2)
     -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}
     -DCMAKE_BUILD_TYPE=Release
     -DCMAKE_INSTALL_LIBDIR=${CMAKE_INSTALL_LIBDIR}
+    -DCMAKE_POLICY_VERSION_MINIMUM=3.5
+    # Only need the library for ssplit; avoid building tools/tests on mobile.
+    -DPCRE2_BUILD_PCRE2GREP=OFF
+    -DPCRE2_BUILD_TESTS=OFF
+    -DPCRE2_SUPPORT_LIBZ=OFF
+    -DPCRE2_SUPPORT_LIBBZ2=OFF
     ${PCRE2_JIT_OPTION}
     -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE} # Necessary for proper MacOS compilation
     -DCMAKE_CROSSCOMPILING_EMULATOR=${CMAKE_CROSSCOMPILING_EMULATOR_WITH_SEMICOLON} # Necessary for proper MacOS compilation
@@ -63,6 +70,15 @@ if(SSPLIT_USE_INTERNAL_PCRE2)
     )
   endif(ANDROID)
 
+  # iOS platform needs to be explicitly passed given this is an external project.
+  if(IOS)
+    LIST(APPEND PCRE2_CONFIGURE_OPTIONS
+      -DCMAKE_SYSTEM_NAME=iOS
+      -DCMAKE_OSX_SYSROOT=${CMAKE_OSX_SYSROOT}
+      -DCMAKE_OSX_ARCHITECTURES=${CMAKE_OSX_ARCHITECTURES}
+      -DCMAKE_OSX_DEPLOYMENT_TARGET=${CMAKE_OSX_DEPLOYMENT_TARGET}
+    )
+  endif(IOS)
 
   # set include dirs and libraries for PCRE2
   set(PCRE2_LIBRARIES ${CMAKE_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}/${CMAKE_STATIC_LIBRARY_PREFIX}pcre2-8${CMAKE_STATIC_LIBRARY_SUFFIX})
